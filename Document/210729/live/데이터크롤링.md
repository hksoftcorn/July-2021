# 데이터 크롤링의 세계

> IT Essential - 유상진 컨설턴트

## 1. 인터넷에서 데이터를 수집하는 방법

### 1.1. OpenAPI 등 공개된 API를 사용

- 공공데이터포털, 네이버 오픈 API 등

### 1.2. HTTP Get Method

- 정보가 게시되어 있는 대상 웹사이트를 HTTP Get을 사용하여 HTML 코드를 얻고 Text Parsing 해서 사용
- Java, Go, Python, C/C++, Perl, Node.js 등 거의 대부분의 언어로 구현 가능
- But, 대부분의 데이터는 Get 방식으로 얻을 수 없음...

### 1.3. Selenium Web Driver

- 웹브라우저 인스턴스를 생성해 실행 시킨 후 해당 인스턴스를 컨트롤
- 웹사이트 테스트 자동화 목적으로 개발된 것
- 가상의 브라우저를 실행시키는 Headless Mode 등이 있음
- HTTP Get 방식에 비해 느리고 불안정적이지만 보다 많은 웹사이트 스크래핑 가능

### 1.4. 정리

- OpenAPI 등을 사용해 공개된 데이터를 얻는 방법
- HTTP Get Method를 사용해 HTML을 가져오는 방법
- Selenium Web Driver 등을 사용해 사람이 하는 것과 유사한 자동화 방법
- 사람이 수작업으로 데이터를 수집하는 방법



## 2. 웹 크롤러 vs 웹 스크래퍼

### 2.1. 웹 크롤러 (Web Crawler)

* 조직적, 자동화된 방법으로 웹을 탐색/수집하는 프로그램
* ex. 구글, 네이버 등의 검색엔진 결과 데이터를 수집하기 위한 봇(bot)

### 2.2. 웹 스크래퍼 (Web Scrapper)

* 웹 사이트에서 정보를 추출하는 프로그램
* ex. 상품별 가격을 알기 위해 해당 상품을 파는 페이지들의 가격을 추출

* 크롤러보다는 대부분 단순 스크래퍼 개발 수요가 많음
* 우리나라에서는 많은 기업들이 같은 의미로 혼용
* 그러나 대부분 웹 스크래핑...! **(면접에서 특히 주의)**



## 3. 크롤링은 불법인가?

* 웹 사이트의 홈 디렉토리에 위치한 `robots.txt` 파일을 열어보고 해당 사이트의 정책을 준수하지 않는다면 불법
* 크롤링한 자료를 상업적인 용도로 사용하면 불법
  * ex. 사람인 vs. 잡코리아
    * 경쟁사 게시정보 무단 크롤링 후, 상업적 활용한 것은 불법
  * ex. 여기어때 vs. 야놀자
    * 경쟁사 게시정보 무단 크롤링, 활용은 불법
  * cf. HiQ Labs vs. Linkedin
    * 퍼블릭 정보를 크롤링하는 것은 불법이 아니다.
      * 특정 사용자에게 오픈된(로그인이 필요한) 데이터들이 아닌 것은, 누구나 볼 수 있는 퍼블릭 정보이다.
      * 퍼블릭 데이터는 승인 없이 가져갈 수 있다. (심지어 게시자가 가져가지 말라고 했더라도)
  * cf. Danawa
    * 여러 업체의 가격 정보 게시 (법적으로는 불법에 가까움)
    * 클릭하면 해당 쇼핑몰로 이동하도록 연결해서 해결
* 비상업적인 용도라 하더라도 원작자에게 불이익을 주면 불법
  * ex. 온라인 신문 기사 전문 스크랩
* 크롤러를 호할용해 고의적으로 Abusing
  * ex. 네이버 검색 순위 조작, 음원 순위 조작 등



### QnA

* 크롤링한 데이터로 데이터 분석?
  * 서버에 부담을 주지 않는 선에서는 OK
* 원래 서비스와 다른 목적 사용?
  * 역시 트래픽에 무리가 가지 않으면 괜찮으나, 상업적 용도로 사용 불가
* 1차 콘텐츠가 불법인 경우 2차 스크래핑도 불법 
* 사이트 트래픽
  * 부하 분산시키는 방식으로 처리
* 공부 목적으로 크롤링 사이트도 법적으로는 불법
* 영화 댓글 크롤링해서 감정 분석
  * 감정 분석이 주된 목적이고, 댓글 자체를 상업적으로 사용하지 않으면 OK
* API를 통한 호출은 크롤링이 아님